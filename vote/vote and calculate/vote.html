<html>
<head>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.css" integrity="sha512-GQSxWe9Cj4o4EduO7zO9HjULmD4olIjiQqZ7VJuwBxZlkWaUFGCxRkn39jYnD2xZBtEilm0m4WBG7YEmQuMs5Q==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>

    <div id="chart"></div>

    <h1>Candidate1</h1>
    <button type="button" onClick="onClick(); refresh()">Vote</button>
    <p>Votes: <a id="oylar">0</a></p>
    <p>Percent: <b id="percent"></b>0</p>

    <h1>Candidate2</h1>
    <button type="button" onClick="onClick1(); refresh()">Vote</button>
    <p>Votes: <a id="oylar1">0</a></p>
    <p>Percent: <b id="percent1"></b>0</p>

    <h1>Candidate3</h1>
    <button type="button" onClick="onClick2(); refresh()">Vote</button>
    <p>Votes: <a id="oylar2">0</a></p>
    <p>Percent: <b id="percent2"></b>0</p>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.0.0/d3.min.js" integrity="sha512-55FY9DHtfMBE2epZhXrWn78so/ZT5/GCLim66+L83U5LghiYwVBAEris4/13Iab9S8C9ShJp3LQL/2raiaO+0w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.min.js" integrity="sha512-+IpCthlNahOuERYUSnKFjzjdKXIbJ/7Dd6xvUp+7bEw0Jp2dg6tluyxLs+zq9BMzZgrLv8886T4cBSqnKiVgUw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="vote.js" ></script>
    <script>
var chart = c3.generate({
    bindto: '#chart',
    data: {
        // iris data from R
        columns: [
            ['candidate1', 1],
            ['candidate2', 1],
            ['candidate3', 1],
        ],
        type : 'pie',
        onclick: function (d, i) { console.log("onclick", d, i); },
        onmouseover: function (d, i) { console.log("onmouseover", d, i); },
        onmouseout: function (d, i) { console.log("onmouseout", d, i); }
    }
});
    function refresh(){
        chart.load({
        columns: [
            ["candidate1", oylar],
            ["candidate2", oylar1],
            ["candidate3", oylar2],
        ]
    });
    }

    </script>
</body>
</html>